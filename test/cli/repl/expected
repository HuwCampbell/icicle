welcome to iREPL
> -- Load the data
> ok, loaded test/cli/repl/data.psv, 8 rows
> -- 
> -- Try a simple sum. Expect 1500 and 30.
> - Result:
[homer, 1500,marge, 30]

> --
> -- Now let's try average. Expect 300 and 10.
> - Result:
[homer, 300,marge, 10]

> --
> --
> -- Filtering
> - Result:
[homer, 5,marge, 1]

> --
> --
> -- What about the ratio of > 300 to all?
> - Result:
[homer, 0,marge, 0]

> --
> -- Simplest group-by I have
> - Result:
[homer, [(100,1)
        ,(200,1)
        ,(300,1)
        ,(400,1)
        ,(500,1)]
,marge, [(0,1),(10,1),(20,1)]]

> --
> -- More interesting group
> - Result:
[homer, [(0,100)
        ,(1,250)
        ,(2,450)]
,marge, [(0,10)]]

> --
> -- A group with filters
> - Result:
[homer, [(0,100)
        ,(1,250)
        ,(2,450)]
,marge, [(0,15)]]

> --
> --
> -- Average of latest 3 entries
> - Result:
[homer, 400,marge, 10]

> --
> --
> -- Distinct by value. Expect 5 and 3
> - Result:
[homer, 5,marge, 3]

> --
> -- Buckets of 100. Expect 5 and 1
> - Result:
[homer, 5,marge, 1]

> -- Distinct by date. Expect 5 and 1
> - Result:
[homer, 5,marge, 1]

> 